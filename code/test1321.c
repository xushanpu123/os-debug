// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

#ifndef __NR_process_madvise
#define __NR_process_madvise 440
#endif

static long syz_open_dev(volatile long a0, volatile long a1, volatile long a2)
{
	if (a0 == 0xc || a0 == 0xb) {
		char buf[128];
		sprintf(buf, "/dev/%s/%d:%d", a0 == 0xc ? "char" : "block", (uint8_t)a1, (uint8_t)a2);
		return open(buf, O_RDWR, 0);
	} else {
		char buf[1024];
		char* hash;
		strncpy(buf, (char*)a0, sizeof(buf) - 1);
		buf[sizeof(buf) - 1] = 0;
		while ((hash = strchr(buf, '#'))) {
			*hash = '0' + (char)(a1 % 10);
			a1 /= 10;
		}
		return open(buf, a2, 0);
	}
}

uint64_t r[1] = {0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
*(uint64_t*)0x20002680 = 0x20000100;
memcpy((void*)0x20000100, "\x23\x02\x15\xd9\xe4\x1f\xa2\x9b\x11\xd0\x86\xff\x88\xae\xd3\x58\x4e\xe1\xde\x17\x9b\xa5\xf9\x59\x80\x63\xb2\xc3\x30\xa9\x23\x49\x57\x92\x83\x53\x0e\x3c\xfa\xd9\x72\x4d\xfe\xe4\x03\xa1\x4c\x76\x84\x83\xbf\x23\x8f\xd9\x19\x4d\x9d\x0a\xc0\x8e\x5f\xcc\xc7\xbc\x11\x00\x1f\x70\x75\x02\xc4\x01\x72\x83\xc0\x4d\x37\xf1\xdb\x9c\x2a\x1f\x73\x10\xfe\x32\x3e\xaa\x74\xf6\x6b\xf2\x57\x95\xd8\xf6\x19\xb8\x00\x67\xb0\xb5\x7e\xe5\x93\xdf\xdd\x96\x77\x2c\x30\xdc\x45\xd1\x76\x8d\xcd\x84\x0c\x9a\x87\x33\xc9\x2f\x06\x50\x3f\xfb\xe1\xa4\xb1\xe1\xf6\x88\xfc\x33\x8d\x8d\x40\x1e\x05\x84\xeb\xfd\x49\x8f\x51\x93\x62\x5c\x69\x97\xf4\x67\x0e\x78\x7f\x0e\xcf\xee\xa0\x79\x5a\xb5\xf8\xf4\x4d\xb1\xca\x86\xd7\xe7\x1b\x14\xf5\x4d\x5a\xbf\xfd\xb7\x3c\x87\xef\xda\x26\xcf\x47\x1d\xaf\x33\x82\x6a\x85\xa8\x6b\xfc\xb1\x5b\xaf\x87\xb1\x9f\x84\x8b\x5b\x69\xd0\x92\x19\x3a\xad\x7a\x27\x51\x41\xf5\x72\x0c\x69\xe3\x18\xe1\xd8\xaa\xd7\x20\x3f\x6c\x8c\x85\x6c\xdc\xe0\x9c\x01\xa2\x9f\x3d\x45\x59\x94\x33\x1f\x4f\x2e\x58\xa5\xc1\x5e\xb4\xa2\x9e\x46\xc6\x4e\x1d\xaa\x24\x4e\xf2\xa4\xa6\x3f\x2e\xc2\x79\x54\xce\xf0\xe7\x06\x8a\x95\x5b\x9c\x28\x8a\x8a\xf5\x6e\x5b\x64\x02\x8c\xb4\x87\xf0\xf0\x27\x7a\x48\x52\xb8\xb3\x53\x14\x3b\x24\x37\xf7\xca\x15\xe1\xb6\xa5\xf0\x1b\x51\x88\xf9\x73\x3c\x69\xce\xdd\x5d\x4f\x96\x90\x98\x4a\xba\xd8\x89\xeb\x86\x2d\x5f\xfd\x61\x8d\xf1\x46\x6c\x3a\x44\xfa\x46\x2d\x67\xbf\x85\x23\xb3\x7a\x25\x11\x3e\xde\x41\x23\xe2\xfa\x9b\xc2\xc6\x24\x93\xa2\xed\x91\xf0\xd5\xd9\x7a\xa0\xf8\x34\xaa\x4e\x5b\xe2\x50\x4b\x2a\xda\x5e\x1f\xbc\x4c\xe8\xa7\xcc\x8b\xcd\xf5\x3e\x5e\xd8\x92\x0e\xe1\x5a\x0e\x86\x4d\x23\x48\xa1\xb4\x9d\xc6\xa8\x9e\x0f\xaa\xf0\xb8\xe9\x3f\x99\xef\x65\x00\xc4\xf7\x22\x98\xf4\x53\xe7\x17\xa8\x9b\x35\xd1\xfa\x84\xea\x88\xbc\xd2\xfc\xf0\x9e\x71\x10\xc8\xa8\x0d\x1e\x31\x02\xe2\xbd\xe2\xc8\x3e\xdc\xb2\xb1\xdd\x3e\xc7\x35\x5e\xab\xe7\x7f\x3e\xda\x1b\x69\xbf\xf3\x70\xe4\x1d\x32\xbc\x92\x2c\x4a\x80\x77\x78\xdb\xd6\x33\xf4\x6f\x33\x50\x4f\xb7\x58\x38\x10\xb5\x51\xbc\x47\x9f\x13\x41\x68\x59\xc1\x52\xbe\x9b\x72\x52\x0c\x46\xb9\xc9\x64\x87\x37\x1b\xe7\xdf\x50\x0a\x8e\x35\x1b\x5d", 519);
*(uint64_t*)0x20002688 = 0x207;
	syscall(__NR_process_madvise, -1, 0x20002680ul, 1ul, 0ul, 0ul);
	res = -1;
res = syz_open_dev(0xc, 4, 1);
	if (res != -1)
		r[0] = res;
*(uint32_t*)0x20000000 = 0x14;
*(uint8_t*)0x20000004 = 0x49;
*(uint16_t*)0x20000005 = 0;
*(uint8_t*)0x20000007 = 0;
*(uint32_t*)0x20000008 = 0;
*(uint64_t*)0x2000000c = 0;
	syscall(__NR_write, r[0], 0x20000000ul, 0xff35ul);
	return 0;
}
