// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

static long syz_open_dev(volatile long a0, volatile long a1, volatile long a2)
{
	if (a0 == 0xc || a0 == 0xb) {
		char buf[128];
		sprintf(buf, "/dev/%s/%d:%d", a0 == 0xc ? "char" : "block", (uint8_t)a1, (uint8_t)a2);
		return open(buf, O_RDWR, 0);
	} else {
		char buf[1024];
		char* hash;
		strncpy(buf, (char*)a0, sizeof(buf) - 1);
		buf[sizeof(buf) - 1] = 0;
		while ((hash = strchr(buf, '#'))) {
			*hash = '0' + (char)(a1 % 10);
			a1 /= 10;
		}
		return open(buf, a2, 0);
	}
}

uint64_t r[1] = {0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
	res = -1;
res = syz_open_dev(0xc, 4, 0x15);
	if (res != -1)
		r[0] = res;
*(uint64_t*)0x20001500 = 0x20000500;
memcpy((void*)0x20000500, "\xbc\x7b\x9e\xc3\x06\x7e\x8f\x94\x82\x0f\x14\x14\xa1\x6c\x3d\x0d\xf5\x95\xd5\x59\xb9\xca\x17\x89\x29\x4c\x42\xeb\xe8\x80\x64\xe3\x32\xd4\x55\x58\x6b\xc0\x45\x5b\xa9\xc7\xff\xa5\x8a\x3b\xbb\xaf\xf8\xb9\x25\xac\xa4\xd8\x6a\x4d\x13\x2e\x70\x17\xbc\x27\xb3\x27\x9a\x3e\x47\x1b\x3d\x27\x47\x0c\x4c\xc7\x9d\xe6\x72\xea\x36\xbf\x6b\x61\x0b\xbf\xb6\xae\x16\x45\x9f\xd4\xad\xd0\x63\x64\x4e\x94\x39\xe6\x4e\xeb\x39\x30\x01\x66\xb6\x2c\x1c\x55\x99\x94\x22\x19\x11\x66\x09\x8a\x1e\x9b\x0e\x1d\xe5\x37\xea\xc0\x97\xd8\x83\x8b\x82\x93\x42\x5a\xa8\x21\x99\x54\x1b\x0a\x8f\x1f\x7f\xf3\x81\x3a\x42\x03\x76\xaa\xf7\x56\xd8\xdd\x6e\x4c\xeb\xe9\x10\x07\x81\x66\xa2\xc8\xea\x82\xcf\xce\xd8\x76\xd7\x07\x30\xe9\x87\x62\xd3\xa9\xc3\x97\x4e\x07\x1e\xcc\x05\xe1\x88\xd1\x5b\x8c\xbd\xab\xc6\x5c\xdc\x75\x29\xf5\xa4\x4f\xf1\x2a\xf0\xd7\x75\xa9\xc1\x10\xd3\xa5\xd2\x5f\x5b\x5f\xd6\xdd\xb7\x77\xe5\xc3\x94\xc9\x5d\x19\xbd\xf1\x38\x02\x6a\x10\x5a\x4b\x52\x79\x63\xe9\xbd\xdd\xdc\xad\x28\x44\xb0\x45\x9f\x23\x82\x6f\xbb\x42\x00\x8d\xb1\xde\x99\xf6\x28\x54\x86\x82\xbf\xac\xc6\xfd\x56\xe2\xf9\xfe\x6d\x14\x2a\x0a\x1e\xac\xe0\x1e\xa9\xe3\xaf\xe5\xd9\xd2\x16\x97\xfa\xe0\x66\x4b\x35\x26\xf6\x97\xa1\xb8\x43\xdb\x79\x2a\x2e\x96\x7c\xa5\xb5\xac\x72\xbc\xf2\xd8\x12\x54\x09\x5a\x8e\xc5\xd0\xe1\xbf\x4b\x85\x0b\x2f\x31\x73\x90\x89\x80\x52\x44\x2f\x8f\x07\xc4\x9a\x89\x3f\x11\x4d\x13\x2f\x09\x9a\xdf\x52\xbd\x1e\xcc\xb0\x73\xe4\xc1\x39\xcc\x40\x07\x0c\xd5\x85\x66\xff\x2a\x38\xaf\x88\x15\x88\x45\x64\x3e\xfa\x96\xc6\x0d\xc0\x2f\x61\xd4\x9b\xbc\x8b\x9b\x48\x8d\x4b\xc6\x85\xca\xfd\xe5\xf2\x0e\xbe\x3a\x00\xb8\x24\xb8\x69\x89\xb7\xc2\x88\x6f\xde\x28\x5e\x2c\x32\xbc\x25\xe5\x42\xbc\xc7\xd3\x06\x50\xb2\x75\x0d\xb6\xa0\xa9\x3e\xd3\xb2\x80\x82\x7b\x2a\xbc\xcc\x27\xbd\x21\x74\x7e\xa7\x4e\x7a\x4f\x70\x6e\xd6\x81\x4c\xbd\xa6\x10\xa9\xff\x29\x05\x84\xbb\x99\xd7\xf7\x0e\xd5\xfe\xd9\x98\x48\x70\xa3\x98\xff\x4f\xbe\x22\x60\x52\x23\x0f\x37\x0f\xd7\x6a\x68\x6b\xee\x1a\xfc\xc3\xb9\x1b\x4d", 485);
*(uint64_t*)0x20001508 = 0x1e5;
	syscall(__NR_writev, r[0], 0x20001500ul, 1ul);
	return 0;
}
