// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

static long syz_open_dev(volatile long a0, volatile long a1, volatile long a2)
{
	if (a0 == 0xc || a0 == 0xb) {
		char buf[128];
		sprintf(buf, "/dev/%s/%d:%d", a0 == 0xc ? "char" : "block", (uint8_t)a1, (uint8_t)a2);
		return open(buf, O_RDWR, 0);
	} else {
		char buf[1024];
		char* hash;
		strncpy(buf, (char*)a0, sizeof(buf) - 1);
		buf[sizeof(buf) - 1] = 0;
		while ((hash = strchr(buf, '#'))) {
			*hash = '0' + (char)(a1 % 10);
			a1 /= 10;
		}
		return open(buf, a2, 0);
	}
}

uint64_t r[2] = {0xffffffffffffffff, 0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
	res = -1;
res = syz_open_dev(0xc, 4, 1);
	if (res != -1)
		r[0] = res;
	res = syscall(__NR_dup2, r[0], r[0]);
	if (res != -1)
		r[1] = res;
*(uint8_t*)0x20000000 = 0;
memcpy((void*)0x20000001, "\xb7\x00\x42\x57\xf1\xb5\x37\x49\x12\xc9\x6d\x54\xab\x9f\x46\x0b\x3a\xa6\x97\xa9\x60\xde\xce\xcc\xf6\xb0\xe9\x9d\x4d\x1e\x5f\x3b\x53\x52\xea\x5d\xaa\x01\x97\x88\xf3\x58\x98\xd1\x64\xda\x00\xaa\x20\x5e\xb5\xc3\x16\xa1\xc4\x61\x2c\xf5\x3f\xc0\x7d\x82\x5f\xf8\xcd\x59\x57\x5b\xf4\x54\xed\x95\x45\x5e\xce\x8e\xc7\x31\xfe\xf3\x3a\xad\x2a\x7a\x97\xc1\x79\xdc\x57\xe9\x98\x39\xd4\xea\x8f\x81\x4a\x81\x08\x44\x7b\x70\xb5\x91\xde\xdc\xc1\x36\x65\x42\xef\x4a\xdd\x52\x2d\xc5\x81\x95\x24\x8d\xb0\x3a\x9e\xbb\xe4\x66\xa1\xfa\x0d\xc1\xd6\x1c\x30\x2a\x4e\x7e\xcc\x74\x25\xe4\x06\x89\x13\xd3\x19\x4c\x12\x8d\x2a\x11\xe6\x64\x51\x64\x64\x83\x39\x0b\x7c\x01\xbd\xd5\xe5\xb5\xbf\x7f\x1c\xb3\x74\x33\x9f\xbc\x30\x85\xa3\x13\xb8\x52\xb8\xcc\xe6\x70\x98\xc7\x76\x7c\xef\x90\xb7\x4d\x3f\x5c\xc0\xa9\x25\x79\x1b\xe2\x6b\x80\xd1\x08\xd4\x8e\xe1\x5a\xf4\xc0\x11\x69\xa9\x41\x76\x34\xf5\x77\x0a\xea\x36\xc1\x65\x34\x81\x97\xe6\x9c\x88\xbd\x44\x69\xee\x71\x59\x6f\x8c\x40\x04\x18\x62\x79\xf2\x5b\x43\x77\x43\xfb\x0b\x19\x1e\x4e\xc2\x43\xbd\x09\x92\xa6\x51\x38\x5f\x89\x45\x09\x58\x07\xff\xba\xe2\x70\x9a\xad\x16\x04\x84\xf5\xb1\xfa\x81\x8a\xcb\x96\xd0\xd5\x15\xaf\xe3\x10\x66\x29\x0f\xc3\x82\x5f\xa6\xba\x7b\x62\x65\xb9\x86\x8f\x16\x20\x72\xaa\x44\x3a\x7f\x00\xbe\xd7\xd2\xd0\xdb\xef\x7c\xf3\x66\xa0\x8e\x4b\x06\xf2\x9c\xaa\xc9\xe1\x4e\xd7\x36\xd3\x67\x03\xaf\x41\xfd\xb3\x7f\xc9\x5c\xb7\x93\x5f\xc9\x92\xc7\x22\x93\xd2\x0a\x37\x81\x5b\xeb\x38\xd9\x51\x38\x39\x66\x4b\x0d\x06\x3f\xe0\x59\x39\x27\x0c\xc3\x7f\x17\x0e\xf6\x69\xce\x51\xe6\xdc\x0b\xb8\x89\x05\x42\x76\xf0\x61\x3f\x18\xd4\xa9\x39\xce\xfe\xa3\x12\xc1\x31\x6b\xb0\x63\xa8\x4d\x4c\x30\xe7\x30\x21\x30\xc2\x2f\x24\xae\xe9\xa3\x58\x65\x4c\x37\x0d\x40\x55\x4f\x04\x98\xc2\x3e\xa8\x92\x7b\x17\xee\xf4\x9a\x2e\xbe\x60\x45\x7e\xfe\xab\xc6\xb9\x29\xe8\xfb\x5a\x8c\x31\xf0\x91\xe5\xf3\x16\x27\x78\x23\xcf\xf2\x27\xec\x5c\xf8\x4a\xef\xbd\x67\x3b\xfb\x39\x05\x92\x2e\xd9\xa2\xe1\x60\xbd\x72\xcf\x82\x85\x29\xb8\x3b\x3c\x7d\x95\x73\x00\x3e\x53\xdd\x67\x10\x0e\x85\x1d\x1e\x4b\x5f\xaf\x6c\x5d\xaa\x00\xf9\x30\x57\xe3\xb8\xaf\x08", 512);
	syscall(__NR_ioctl, r[1], 0x4b49, 0x20000000ul);
	return 0;
}
