// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

static long syz_open_dev(volatile long a0, volatile long a1, volatile long a2)
{
	if (a0 == 0xc || a0 == 0xb) {
		char buf[128];
		sprintf(buf, "/dev/%s/%d:%d", a0 == 0xc ? "char" : "block", (uint8_t)a1, (uint8_t)a2);
		return open(buf, O_RDWR, 0);
	} else {
		char buf[1024];
		char* hash;
		strncpy(buf, (char*)a0, sizeof(buf) - 1);
		buf[sizeof(buf) - 1] = 0;
		while ((hash = strchr(buf, '#'))) {
			*hash = '0' + (char)(a1 % 10);
			a1 /= 10;
		}
		return open(buf, a2, 0);
	}
}

uint64_t r[1] = {0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
	res = -1;
res = syz_open_dev(0xc, 4, 0x14);
	if (res != -1)
		r[0] = res;
	syscall(__NR_setreuid, 0xee01, 0xee01);
*(uint8_t*)0x20000000 = 0;
memcpy((void*)0x20000001, "\x5a\xf9\x11\x17\xc8\xe0\x48\x61\xbc\x94\xe0\x22\xce\xf9\xc6\x3e\x1f\x2d\x79\x69\x31\x92\xb3\xf1\xf6\x0b\x26\xf9\x20\xd4\x08\x66\x36\xb9\xee\x47\x75\xd2\x74\x0a\xd6\x3f\x7e\x40\x75\x87\x37\x1c\xba\x0d\xf9\x4e\xeb\xf0\x3e\x9a\xca\x08\x80\xb2\x0d\x4d\x1f\x0f\x32\x6a\x63\x44\x15\x68\x34\x65\x95\xa0\x89\x8d\x14\x0c\x32\xaf\x29\x7e\x19\xfa\xd4\xdd\x8e\x5c\xf6\x7f\x2d\x4b\x40\x59\x91\xde\x89\xc0\xac\x1a\xff\x1e\xdc\xb8\xe2\x60\x28\x00\x2c\x9c\xcf\x87\x6f\x56\xba\xfa\xe8\x37\x59\x2c\x78\x22\x4b\x7b\x3a\x66\xda\xfa\x48\x1d\xcb\x1e\xd3\xac\xdb\x63\x31\x96\x31\x09\x4b\x30\xac\x94\xcd\x27\xb6\xd3\xb8\xe2\x48\xb0\xc0\x85\xdc\xb0\x7f\xce\x81\xd6\xc1\x17\x3d\x0a\x89\xc6\xee\xf1\xa9\xc1\xc7\x73\xa1\x27\xe0\xc0\x25\x8b\x84\x66\x37\x98\x86\x86\x07\x0c\xf3\xc9\xd5\x25\x99\x02\xa2\x82\xb8\xaa\x45\x9a\x23\x0c\xa4\x66\x73\xae\xc8\x30\x7c\xf8\xc6\x83\xd7\x8e\x36\x53\x36\x21\x39\x31\xd0\xed\x9a\x0d\x99\xae\x62\x3c\xd5\x13\x7b\x43\x10\x5b\xeb\xf1\x36\x32\xe5\x09\x19\xeb\x07\xe8\xa3\x1b\x78\x6d\x11\xd4\xee\x44\xff\xae\xb7\x04\x7f\xcd\x51\x87\x24\xb1\x43\x6a\x7d\xbc\x33\x8a\x94\x73\xe5\x98\xe2\xa6\x09\xa5\x51\x85\xdb\xd3\x73\x44\xd9\x90\x87\x1c\x10\x5e\x7e\xf5\xb1\x9c\x82\x3e\x67\xaf\xc6\x5f\x0c\x79\xeb\xd3\x04\x0d\x65\xd4\x2f\xe2\xa7\x31\xdb\xb8\x15\x61\xf0\x22\x24\x5a\xdf\x3c\x33\x4a\x70\x05\xc1\x12\x77\x5e\x5d\xa4\x3b\x2e\x1c\xa8\x68\xc0\x46\x54\xe6\x89\x9b\xe8\xb7\x2f\x2e\x87\xcd\x42\xf1\xd6\x47\xa0\xc0\x23\xe2\xf2\x6b\x6d\xe9\x38\x92\x4d\xa3\xb8\x8f\x6d\x31\x25\x69\xb0\x25\xc1\x54\xee\x2d\x7d\xa8\xc3\x0e\x71\x5a\xe7\x0c\x65\x12\x71\xbd\x89\x5d\x5b\xc8\x2c\x29\x85\x4d\xb9\x36\x27\xb2\xd8\x6e\xb5\xaa\x5f\x09\xa8\xde\xa3\x99\x04\x76\x2c\x93\x1b\x50\x85\x38\x55\xc6\x80\x7b\xa5\x08\xbc\x2d\x0d\xf3\xfa\x67\x89\xaf\xa0\xc5\x79\xd5\xee\xb5\x72\x67\xf1\x85\x97\xa8\x35\x90\x1d\xa8\xd4\x3c\x8f\x5c\x5d\x0f\xd4\x4a\x81\x45\x6f\x1b\x05\x60\x27\x3f\xb7\xf8\x96\xdc\xb2\x32\x7d\x8d\x83\x68\x53\xa7\xff\x54\x18\x4e\x01\x9c\x48\x45\x14\xfb\xf0\xd9\xaa\xf7\xeb\x07\xde\x3f\xac\x16\xf8\x6b\xea\xd2\x09\xfa\x66\x8a\x69\x08\x7d\x37\x0b\x75\xec\xd8\x6e\x99\xcd", 512);
	syscall(__NR_ioctl, r[0], 0x4b48, 0x20000000ul);
	return 0;
}
