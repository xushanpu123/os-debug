// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <sched.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

#define USLEEP_FORKED_CHILD (3 * 50 *1000)

static long handle_clone_ret(long ret)
{
	if (ret != 0) {
		return ret;
	}
	usleep(USLEEP_FORKED_CHILD);
	syscall(__NR_exit, 0);
	while (1) {
	}
}

static long syz_clone(volatile long flags, volatile long stack, volatile long stack_len,
		      volatile long ptid, volatile long ctid, volatile long tls)
{
	long sp = (stack + stack_len) & ~15;
	long ret = (long)syscall(__NR_clone, flags & ~CLONE_VM, sp, ptid, ctid, tls);
	return handle_clone_ret(ret);
}

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);

memcpy((void*)0x20000000, "\x82\x07\x0b\x03\x3e\x88\x93\x50\xdc\xd5\xcd\xae\x99\x6e\x26\xf6\xa1\xc1\xc2\x7a\x9e\x9f\xfd\x8d\x59\x81\x68\xef\x95\xf7\x13\x5f\x53\x89\xbf\x4d\xa5\x0d\x48\xab\x98\x27\xca\xa9\x0a\xdc\x8f\x0f\x23\x8e\x65\x87\x79\xf3\x62\x6d\xb2\x30\x49\xe4\x79\x23\x9d\x49\xcf\x80\xd6\x6a\xfa\xe0\x20\xb8\x85\xfd\x26\xcb\x52\xb7\x01\x2a\xcf\x25\x62\x00\xb7\xeb\x8c\x99", 88);
memcpy((void*)0x20000100, "\x37\xc5\x75\x60\x0f\x7c\xc5\x14\x51\x05\xd4\xec\x1d\x7e", 14);
syz_clone(0x60000000, 0x20000000, 0x58, 0x20000080, 0x200000c0, 0x20000100);
*(uint64_t*)0x20000140 = 0;
*(uint32_t*)0x20000148 = 0x33;
*(uint32_t*)0x2000014c = 2;
*(uint64_t*)0x20000150 = 0x20000180;
memcpy((void*)0x20000180, "\xce\x75\xc4\x0f\xfb\xe8\x64\xa4\x47\x6e\x06\x8f\xc2\x0d\x2b\x92\xe2\x21\xfa\xd2\xb0\x8c\xe3\xe4\x45\xfc\x07\x36\x07\x76\x16\xe0\xae\xd6\x5f\xa2\xaa\x45\xc6\x36\xef\x96\xd1\xa7\x50\xea\x9f\x50\xd7\x2f\x0f\xcf\x7d\x9e\xfa\xf4\x0f\xa9\x89\xbc\x83\xa1\xe7\x05\xb2\xf6\xa3\xf1\x2f\xa8\x0c\xb6\xa8\x61\x32\x0c\x99\x4f\xd5\xd4\xb3\x9b\x0d\x66\xb4\x16\xf8\x49\x50\xdd\x5b\x05\x8e\x58\x1d\xb7\x40\x5e\xa2\x9f\x8a\x0c\x0a\xf5\xc4\xd5\x01\xc6\xba\x13\xf9\x8b\x93\x8f", 114);
*(uint64_t*)0x20000158 = 0x20000200;
memcpy((void*)0x20000200, "\x11\xe9\x04\xfb\x3e\x9b\x9e\x4a\xaa\x87\xc3\x30\x7f\x52\x40\x0f\x36\x1f\x47\x16\xe6\x17\x00\x7a\xd3\xb6\x01\xa0\xce\xf8\xb3\x93\x41\x56\x13\x88\x4a\x8f\xe2\xc0\x7c\xa1\xb6\xd9\x86\x7c\x4a\xe3\xe6\x04\xd2\x30\xe0\xb3\x94\x26\xe1\x77\x8a\x3f\x74\x85\x4b\x2e\x5f\xf8\x9f\x33\xd6\x0d\xca\x4f\x21\x8b\x5f\x95\xb0\x06\xf0\x4b\x2f\x29\xff\xe7\x00\x6d\x6b\x75\x50\xe0\xd1\x98\xa7\x78\x98\xd3\x71\x50\x0b\xf4\xbd\xcd\x35\x25\xdf\xe0\x09\xe1\x78\xc4\xe5\xa3\x15\x9b\x9f\xaa\x36\xe5\x32\xc3\x50\xd7\xc4\x37\x79\xce\x46\xe3\x1b\x89\x3a\x83\x28\xc5\x09\xb1\x6c\x3f\x4b\x92\x71\x63\x68\x19\x54\x61\xe5\x6a\x8f\x8c\xe5\x26\xf7\x00\xa9\x7a\x07\xf4\x85\x19\xda\xc1\x38\xf8\x4e\xf3\x88\x49\x08\x37\x3f\xa7\x16\xdf\x1d\x48\x3c\x64\x17\xb5\x7f\xb8\x15\xf1\x41\x8e\x13", 187);
	syscall(__NR_mq_notify, -1, 0x20000140ul);
	return 0;
}
