// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <sched.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

#define BITMASK(bf_off,bf_len) (((1ull << (bf_len)) - 1) << (bf_off))
#define STORE_BY_BITMASK(type,htobe,addr,val,bf_off,bf_len) *(type*)(addr) = htobe((htobe(*(type*)(addr)) & ~BITMASK((bf_off), (bf_len))) | (((type)(val) << (bf_off)) & BITMASK((bf_off), (bf_len))))

#define USLEEP_FORKED_CHILD (3 * 50 *1000)

static long handle_clone_ret(long ret)
{
	if (ret != 0) {
		return ret;
	}
	usleep(USLEEP_FORKED_CHILD);
	syscall(__NR_exit, 0);
	while (1) {
	}
}

static long syz_clone(volatile long flags, volatile long stack, volatile long stack_len,
		      volatile long ptid, volatile long ctid, volatile long tls)
{
	long sp = (stack + stack_len) & ~15;
	long ret = (long)syscall(__NR_clone, flags & ~CLONE_VM, sp, ptid, ctid, tls);
	return handle_clone_ret(ret);
}

uint64_t r[3] = {0xffffffffffffffff, 0xffffffffffffffff, 0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
*(uint32_t*)0x20000000 = 2;
memcpy((void*)0x20000004, "veth0_to_team\000\000\000\000\000\000\000\000\000\000\000", 24);
*(uint32_t*)0x2000001c = 0xfffffffb;
*(uint16_t*)0x20000034 = 5;
	syscall(__NR_ioctl, -1, 0x8983, 0x20000000ul);
*(uint32_t*)0x20000040 = 0;
	res = syscall(__NR_accept4, -1, 0ul, 0x20000040ul, 0x80000ul);
	if (res != -1)
		r[0] = res;
*(uint32_t*)0x20000100 = 0x80;
	res = syscall(__NR_accept4, r[0], 0x20000080ul, 0x20000100ul, 0x4b2dbaf9e61cced6ul);
	if (res != -1)
		r[1] = res;
*(uint64_t*)0x20001400 = 0x20000140;
*(uint32_t*)0x20001408 = 0x6e;
*(uint64_t*)0x20001410 = 0x20001300;
*(uint64_t*)0x20001300 = 0x200001c0;
*(uint64_t*)0x20001308 = 0x1000;
*(uint64_t*)0x20001310 = 0x200011c0;
*(uint64_t*)0x20001318 = 0x95;
*(uint64_t*)0x20001320 = 0x20001280;
*(uint64_t*)0x20001328 = 0x5f;
*(uint64_t*)0x20001418 = 3;
*(uint64_t*)0x20001420 = 0x20001340;
*(uint64_t*)0x20001428 = 0xa0;
*(uint32_t*)0x20001430 = 0;
	syscall(__NR_recvmsg, r[1], 0x20001400ul, 0x2123ul, 0);
	res = syscall(__NR_socket, 2ul, 4ul, 7);
	if (res != -1)
		r[2] = res;
*(uint32_t*)0x200014c0 = 0x6e;
	syscall(__NR_getsockname, r[2], 0x20001440ul, 0x200014c0ul);
*(uint16_t*)0x20001500 = 0x303;
*(uint16_t*)0x20001502 = 0x34;
memcpy((void*)0x20001504, "\x37\xb3\x9e\x63\x70\xcd\xbe\xb3", 8);
memcpy((void*)0x2000150c, "\x17\xab\xf7\x79\x66\xb1\x74\xa7\xe2\x2b\x14\x9e\xa8\xd2\xd7\x32\xca\xd0\xd6\x89\xda\x5d\x1a\xe4\x1e\x36\x7b\x61\x38\x0c\xac\xf0", 32);
memcpy((void*)0x2000152c, "\xc7\x91\xa5\x52", 4);
memcpy((void*)0x20001530, "\xfb\x0c\x3e\xde\x5e\xa7\x56\xe0", 8);
	syscall(__NR_setsockopt, -1, 6, 2, 0x20001500ul, 0x38ul);
*(uint32_t*)0x20001540 = 1;
*(uint32_t*)0x20001544 = 0x80;
*(uint8_t*)0x20001548 = 5;
*(uint8_t*)0x20001549 = 1;
*(uint8_t*)0x2000154a = 0x7f;
*(uint8_t*)0x2000154b = 4;
*(uint32_t*)0x2000154c = 0;
*(uint64_t*)0x20001550 = 0x5ef1e470;
*(uint64_t*)0x20001558 = 0x9040;
*(uint64_t*)0x20001560 = 2;
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 0, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 1, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 2, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 3, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 4, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 5, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 6, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 7, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 8, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 9, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 10, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 11, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 12, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 13, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 14, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 3, 15, 2);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 17, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 18, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 19, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 20, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 21, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 22, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 23, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 24, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 25, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 26, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 27, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 28, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 29, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 30, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 31, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 32, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 33, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 34, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 35, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 36, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 1, 37, 1);
STORE_BY_BITMASK(uint64_t, , 0x20001568, 0, 38, 26);
*(uint32_t*)0x20001570 = 8;
*(uint32_t*)0x20001574 = 1;
*(uint64_t*)0x20001578 = 0x8f;
*(uint64_t*)0x20001580 = 0xd47e;
*(uint64_t*)0x20001588 = 0xa000;
*(uint64_t*)0x20001590 = 3;
*(uint32_t*)0x20001598 = 0xbf;
*(uint32_t*)0x2000159c = 6;
*(uint64_t*)0x200015a0 = 0xfff;
*(uint32_t*)0x200015a8 = 4;
*(uint16_t*)0x200015ac = 0x8001;
*(uint16_t*)0x200015ae = 0;
*(uint32_t*)0x200015b0 = 3;
*(uint32_t*)0x200015b4 = 0;
*(uint64_t*)0x200015b8 = -1;
	syscall(__NR_perf_event_open, 0x20001540ul, 0, 3ul, -1, 0ul);
memcpy((void*)0x20001d80, "\xe9\x0c\xd3\x50\x07\x87\x03\xec\xaa\x6a\x24\x5b\x0c\x72\xa8\x10\x42\x09\x1a\x79\xb8\xde\x9d\x95\xd7\xe0\xb6\x19\x5e\x40\xef\x01\x0e\x18\xc5\x8a\xc1\xae\x1b\x2c\xa1\x33\x74\xd1\xc6\xac\xfd\xd5\x02\x51\x94\x53\xf4\x84\x8e\xba\x8f\x1a\x89\xc7\xcd\x38\xb9\x36\x52\xb5\x4e\x77\xde\x23\x0f\xe5\xe9\x3f\xdb\x41\x93\x55\xc9\xef\x10\xca\x15\xfb\x14\x32\x26\xa4\x00\x9d\xcd\x8d\x92\xa9\xcb\x5f", 96);
memcpy((void*)0x20001e80, "\x08\x2d\xa0\x08\x04\xf4\x38\x49\x46\x26\x29\xf9\x12\x7b\xf6\x3c\x22\x83\x65\x89\x0c\x8b\x15\x3f\x7e\x7c\x68\x28\x49\x34\x88\xc8\x6d\x40\x0a\x3f\x08\xb2\x8f\xb4\x33\x91\x7a\x23\x6a\xc2\xd0\xb0\x30\x49\xca\x08\x9d\x96\x0d\xa6\x94\x9e\xaa\xd1\x8c\x15\x92\x1c\xa5\x97\x66\x96\xd3\xaa\x94\x1f\xf6\xdb\xd3\x0d\x13\xf9\x26\xe3\x82\x4c\xd6\xe6\x7e\xe9\x24\x0b\x2f\xb6\xb1\xbc\xb6\x76\xb0\x36\x68\x88\xbe\x6d\x3e\x71\x4e\x51\x49\x7b\x21\xd9\x50\x70\x11\x8d\xcf\xb7\x7c\xfa\xee\xfb\x91\xe2\xbd\x38\x2d\xee\x2d\x4d\x95\xd7\xf6\xd7\x74\x7a\xbb\x2f\xed\x3e\x70\xb2\x8e\xb1\x9d\x08\x35\xec\x83\x5d\x16\x63\xb1\xd9\x5b\x0a\x69\xf3\xd0\x89\x44\xc6\xdf\xcf\xfe\xb1\xcd\xa0\xce\xff\xd7\xfe\xb2\x6c\x7d\xd8\xc9\x5c\xf4\xe1\xe2\x2e\x19\x58\xc0\x72\x88\x3d\x2e\xaf\xa0\x3e\x0f\x93\xd2\xbe\x8e\x08\x80\xfb\xd4\xbb\xb0\xe1\x6a\xbd\xbd\xee\x3f\x20\x46\x19\x4a\x9a\x03\x1b\x9f\x99\x8f\xef\x19\x53\x69\xb3", 220);
syz_clone(0x100, 0x20001d80, 0x60, 0x20001e00, 0x20001e40, 0x20001e80);
memcpy((void*)0x20001f80, "\x9b\x3c\x3c\xe0", 4);
memcpy((void*)0x20002040, "\x43\xd1\xc8\x80\x7b\x5d\x27\x01\xed\xf6\xf1\xac\x7c\x95\x9f\xa0\x82\xa2\x74\x48\x67\x18\x4b\xfb\x66\x5e\x12\x94\x89\x4e\xb9\xef\x56\x71\xce\x9d\xa9\x0e\xf1\xd6\xea\xf0\x1d\x29\x14\x74\x47\x50\xd9\xfd\xe9\x6e\x1b\x27\x02\xfe\x5d\xa3\x2a\x25\xa8\xfb\xff\xb3\xe6\x1f\x73\x34\xa3\xde\xb7\x08\x14\x0e\x84\x8d\x03\x69\xf2\x0c\xd2\x9e\x41\xb2\x13\xb5\x8d\xa2\x6a\x22\x64\xcb\xed\x09\x60\xab\x20\xcf\x62\x31\x7c\xde\x44\xd9\x64\x47\xb3\xa4\x6f\x10\xfe\xd2\x7a\xef\x27\xca\x94\xbe\xbe\x65\x6f\x91\x8b\x77\xe4\x2e\x63\x88\xd6\x45\xcd\x71\x0d\x0a\xba\xf2\x35\x82\x17\x7d\x73\x27\xed\x01\x52\x49\xc4\xec\xc4\x1a\xbf\x3a\x64\x24\x2e\x28\x66\xd4\x4f\xf6\x44\xf3\x96\x26\x1f\x75\xe3\x67\x4a\xff\x1e\xb6\xd0\x5f\x5a\x5f\x94\xbe\x20\x1f\x0f\xb4\xc3\x2b\x36", 185);
syz_clone(0x8000080, 0x20001f80, 4, 0x20001fc0, 0x20002000, 0x20002040);
	return 0;
}
