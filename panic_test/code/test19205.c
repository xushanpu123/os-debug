// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <sched.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

#define USLEEP_FORKED_CHILD (3 * 50 *1000)

static long handle_clone_ret(long ret)
{
	if (ret != 0) {
		return ret;
	}
	usleep(USLEEP_FORKED_CHILD);
	syscall(__NR_exit, 0);
	while (1) {
	}
}

static long syz_clone(volatile long flags, volatile long stack, volatile long stack_len,
		      volatile long ptid, volatile long ctid, volatile long tls)
{
	long sp = (stack + stack_len) & ~15;
	long ret = (long)syscall(__NR_clone, flags & ~CLONE_VM, sp, ptid, ctid, tls);
	return handle_clone_ret(ret);
}

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);

memcpy((void*)0x200000c0, "\x35\x0b\x0d\xe2\xda\xa3\x50\x9c\xa3\x02\x87\x0f\x18\xac\x00\x92\xd5\xfb\x5c\xf0\x16\xeb\xaa\xa2\x5f\xa7\xda\xdf\x9f\x65\x6b\x40\x30\x7c\x17\x24\xdb\xb5\xde\xb0\x44\x59\x89\xdc\xcd\x37\xbf\x7c\xfe\x62\xed\xeb\x3f\xd0\x47\xa3\x68\xc2\x8f\x8b\x08\x2d\x76\x78\x6a\xe0\xd0\x78\x7d\x4b\x7a\x75\xc5\xce\xb4\xd9\x1f\xd2\xde\x4a\x66\xce\xb8\xd6\xf0\x50\x6c\x4b\x41\x82\x44\xb1\x48\x06\x4e\x90\xa9\xb0\xd5\x07\x1f\xff\x81\x55\x6b\x7d\x90\x89\x11\xaf\xca\xa2\x4b\x95\x9a\xd5\x69\x98\x3f\x05\xf8\x11\xbd\x70\xd0\x76\x1f\x30\xea\x2d\xa6\x53\x65\x5d\x45\x0e\xcd\xe7\xd3\x05\x69\x28\x76\x82\x56\x0b\xd9\xa6\xba\xcb\x1f\x2e\x24\x76\x25\xf0\x64\x6b\xc8\x93\x05\x30\x18\x94\x5a\xab\x62\x08\x03\x86\x53\xc3\x2c\x60\x00\x5c\x40\x1d\x41\x44\xef\xd5\x2b\x91\x3c\x75\xdd\xf8\xb8\x94\x19\xc1\xc4\x8d\xbf\xc0\x9a\x6c", 198);
memcpy((void*)0x20000240, "\x76\xc4\x50\x6f\x14\x2b\x6c\x71\x77\xbd\x83\xd7\x57\x9f\x7b\x24\x76\x9f\x83\x1e\xae\xf5\x22\xf2\x6c\xf3\xde\x15\xd0\x04\x71\xc0\x50\x7b\x9b\xf3\xcc\xc9\x7e\xfd\x73\x4c\xe6\x4e\x7c\xbd\x51\x55\x96\x0e\xf1\xc4\x7a\xdf\x80\x18\x94\xad\x71\xda\x30\xf3\x84\x38\x45\x4e\xa1\xec\x52\xf1\xfd\x0d\xed\xac\x3c\x67\x4c\x9b\xa9\x00\xf4\x33\x51\x08\x4b\xf1\xb0\x02\x1b\x8e\x6b\x20\xab\xad\x8b\xe8\x6e\x9b\x90\x99\xe0\x75\xc7\x7b\xfb\x78\x12\x71\x2a\xfe\xb4\x1b\xe1\xaa\xeb\xe8\xeb\x90\x91\x41\xa5\x19\x09\x83\x07\x3e\x15\x35\x89\x91\xc9\x6f\x08\xcb\x7c\x1f\x25\xa0\x9b\x38\x5d\x18\xe6\x59\xaa\x53\x54\x8d\x12\x71\x02\x70\xc7\x1c\x9f\xb0\x4d\x1b\x73\xd1\x11\xb8\x99\x00\xf5\xb4\x94\xb4\xee\x75\xdc\xb5\x45\x74\xa5\x6c\x32\x53\x52\x74\xf1\x5a\x59\x82\xd2\xd0\x24\xb7\x12\x09\x1c\xa9\x2c\x0c\x59\x62\xcd\x0a\xc0\x5a\x30\xf3\x23\x4f\x5c\x51\x21\x90\xaf\xdd\xf5\xe9\x5b\x82\x17\x82\x59\xc6\x25\x83\x21\x4b\xff\x75\x5f\xe4\x09\x9f\xc7\xa4\xf2\x95\xa1\x8b\x8e", 235);
syz_clone(0x5000480, 0x200000c0, 0xc6, 0x200001c0, 0x20000200, 0x20000240);
	syscall(__NR_gettid);
memcpy((void*)0x20000340, "\x0e\xdf\x8b\x6a\x73\x3c\x4e\xaf\x22\x61\x38\x00\x85\x2d\xf8\x21\x0a\xb6\x61\x19\xc6\x52\x3f\xec\xf4\x99\x37\xe6\xd9\x95\xde\xa9\x21\x21\x08\xf4", 36);
memcpy((void*)0x20000400, "\x45\x23\x16\xd3\xe1\x63\x3f\xaf\x13\xea\x1c\x37\x8f\x12\xb3\xd7\x98\xe7\x02\x17\x40\x0f\x58\x37\x45\x25\x67\x48\x62\x2b\x95\xef\xbb\x61\x7d\x43\x86\x1f\xcd\x8c\x14\xce\x94\x92\x12\x91\x05\x55\xee\x41\xff\x98\x5a\xc7\x1a\x9b\x94\x0f\xa3\xf8\x2e\x9b\x46\xc7\x2d\xb2\xda\xee\x4f\x50\x1c\xf2\x93\x49\xce\xa2\xd4\xca\x21\x41\x92\xb2\x2b\x33\x82\x76\xdc\xad\xb4\x8a\x5c\x32\x62\x6d\x39\x12\x03\xd7\x6c\x24\x0c\xb5\x9c\xf7\xbe\xd3\x78\xeb\x97\x38\x66\x60\xf4\xc4\x31\x06\x9a\xb7\x6a\x23\x25\xea\xc6\xbc\x30\x20\xab\xb1\xd6\x57\xe5\xc0\xbb\x64\x88\x59\xad\x85\x6c\xbb\x98\x62\x8f\x43\x83\x2a\x3b\x00\x6c\xa0\x9b\xd7\xc7\xe6\x5f\x63\xb7\x14\xbb\x3a\xcd\x7d\x50\x12\x9d\x15\xd3\x8e\x97\x41\xf8\xa3\x95\x52\xa5\x15\x35\x9c\x45\x76\x93\xad\x2d\xc4\x7f\xa2\xb6\x19\xeb\xe0\xf3\x3f\x64\x35\x34\xa9\x47\x21\x0c\x35\x38\x2b\xa1\x7c\x0f\x13\xc4\x8b\x0c\x77\xba\xab\x18\x9f\xdb\x08\xbb\x53\xf5\xe7\x2c\x8b\x1d\x47\xf5\x5b\x6e\xf4\xd1\xa3\x8c\x54\x33\x36\x9b\x33\xd0\xf0\xd6\x3b\xcf\x54\xe0", 243);
syz_clone(0x40128400, 0x20000340, 0x24, 0x20000380, 0x200003c0, 0x20000400);
	return 0;
}
