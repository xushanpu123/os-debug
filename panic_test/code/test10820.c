// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <sched.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

#define USLEEP_FORKED_CHILD (3 * 50 *1000)

static long handle_clone_ret(long ret)
{
	if (ret != 0) {
		return ret;
	}
	usleep(USLEEP_FORKED_CHILD);
	syscall(__NR_exit, 0);
	while (1) {
	}
}

static long syz_clone(volatile long flags, volatile long stack, volatile long stack_len,
		      volatile long ptid, volatile long ctid, volatile long tls)
{
	long sp = (stack + stack_len) & ~15;
	long ret = (long)syscall(__NR_clone, flags & ~CLONE_VM, sp, ptid, ctid, tls);
	return handle_clone_ret(ret);
}

uint64_t r[1] = {0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
memcpy((void*)0x20000180, "/dev/sr0\000", 9);
	res = syscall(__NR_openat, 0xffffffffffffff9cul, 0x20000180ul, 0x200000ul, 0ul);
	if (res != -1)
		r[0] = res;
	syscall(__NR_fstat, r[0], 0x20000640ul);
memcpy((void*)0x20003080, "\x2d\x1a\x1e\x9a\x6b\x18\x54\x5c\x8f\x69\x7d\xde\xfb\x64\x24\x93\x71\x7f\x51\xa3\xbc\x4b\xb1\x3c\x96\x92\x54\x04\x3f\x22\x80\xeb\x84\x73\x5a\x5b\x7b\x3e\xf1\xbf\xa5\xee\x3c\x33\x32\x55\x0d\xec\xdb\x6d\xf9\x53\xc6\xa5\xcf\x85\xf2\x27\x7c\x3b\x9d\xd5\x61\x04\xc5\x38\xb6\x64\xd2\xd1\x0b\xc5\x11\x3c\xce\x32\x72\xfc\x8c\x2e\x62\x70\xeb\x3e\x74\xe5\xdb\xd6\xab\x36\xa5\xfa\x78\xc4\xc9\x11\x9b\x30\x32\x95\x4c\xa5\xd7\xc1\x34\x9f\x53\xbb\x62\x28\x87\x2f\x57\xd4\xd8\x71\xcc\x18\xe0\x86\x97\x01\x3d\x50\x4c\xd5\x76\x6a\xff\xf4\xa9\xa7\x46\xc3\x67\x30\x5e\x4e\xe3\xc2\x4f\xd2\x83\xb8\xb2\xf7\xcd\xf5\xfa\x84\x2a\xa9\xcd\x5f\x7f\x5a\x97\x05\xbd\xc2\x96\xc3\xcf\xe9\x02\xa1\x7d\x1b\x73\xe0\x25\xe4\xfe\x8f\x2b\xbd\x10\xf2\x6f\xbd\x93", 181);
syz_clone(0x4000, 0, 0, 0, 0, 0x20003080);
	return 0;
}
