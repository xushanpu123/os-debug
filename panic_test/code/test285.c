// autogenerated by syzkaller (https://github.com/google/syzkaller)

#define _GNU_SOURCE 

#include <endian.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/syscall.h>
#include <sys/types.h>
#include <unistd.h>

static long syz_open_dev(volatile long a0, volatile long a1, volatile long a2)
{
	if (a0 == 0xc || a0 == 0xb) {
		char buf[128];
		sprintf(buf, "/dev/%s/%d:%d", a0 == 0xc ? "char" : "block", (uint8_t)a1, (uint8_t)a2);
		return open(buf, O_RDWR, 0);
	} else {
		char buf[1024];
		char* hash;
		strncpy(buf, (char*)a0, sizeof(buf) - 1);
		buf[sizeof(buf) - 1] = 0;
		while ((hash = strchr(buf, '#'))) {
			*hash = '0' + (char)(a1 % 10);
			a1 /= 10;
		}
		return open(buf, a2, 0);
	}
}

uint64_t r[1] = {0xffffffffffffffff};

int main(void)
{
		syscall(__NR_mmap, 0x1ffff000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x20000000ul, 0x1000000ul, 7ul, 0x32ul, -1, 0ul);
	syscall(__NR_mmap, 0x21000000ul, 0x1000ul, 0ul, 0x32ul, -1, 0ul);
				intptr_t res = 0;
memcpy((void*)0x20000080, "/dev/loop#\000", 11);
	res = -1;
res = syz_open_dev(0x20000080, 0x7ffffffb, 0x241);
	if (res != -1)
		r[0] = res;
*(uint64_t*)0x20001c00 = 0x200006c0;
memcpy((void*)0x200006c0, "\x66\xc1\x75\xa7\x17\xf0\xa3\xda\x96\x01\xc3\x7d\xd1\x5e\xa1\xdd\x0f\x04\xfb\x18\xa5\xb9\x69\x0c\x2e\xa6\xe2\x48\x0a\xfd\x90\x96\xb8\xe6\x8a\x74\xe1\x76\xdc\x5d\xfc\x64\x50\x15\x88\xe1\x9b\xf5\xc9\xcf\x60\xda\xad\x44\x80\x4c\xa9\x6c\x1f\x46\x46\xcd\x19\x8e\xf9\x71\xfe\x30\xd8\x28\xa0\x5b\x13\x24\x31\x9e\xb7\xa7\x2b\x75\x8f\x9e\xe1\x0e\x93\x07\x1a\xeb\x27\x69\xa8\x3f\x3d\xc0\xb8\x20\xf3\x79\xa4\x24\xe6\x45\x8b\xc7\xaf\x7a\x15\x5c\x4d\x96\x47\xb4\xab\xe7\xe2\x61\x06\xad\x91\x9d\xea\x4a\xb2\x0e\x8c\xc1\x7f\x4f\xd0\xee\x87\x32\x58\x2e\x0b\xfc\xde\xe7\xa5\x77\xd3\xea\xc0\x23\x9a\x1c\x1a\xbc\x8f\x0c\xd0\x42\x0d\xc2\x3f\x86\x4e\xba\xba\x02\x0c\x76\x3d\xc4\x8d\x3f\x2d\x9e", 168);
*(uint64_t*)0x20001c08 = 0xa8;
*(uint64_t*)0x20001c10 = 0x20000780;
memcpy((void*)0x20000780, "\xdf\xe3\x8c\xd1\x3a\x8a\x89\x5b\x37\x61\x87\xb9\x63\xd9\xe3\xa7\xce\x01\x15\xe4\x7b\x13\x3f\x39\x5e\x97\x03\x51\xbd\x00\xfe\x66\x5a\x09\xd6\x93\x2d\x65\x93\x23\x1b\xb5\x53\x0b\x11\x10\x82\x85\xf2\x29\x75\x74\x8c\x84\x1a\x9c\x57\x6f\x79\xb2\xcc\x98\xcf\x17\x85\x1b\xc8\x9c\x0e\x52\x14\x7e\xce\x0f\x61\x5d\x7a\xfd\x80\x84\x74\xdb\xc1\xfc\x36\x4c\xc9\x2c\xab\xff\x11\x7b\x05\x58\xd2\xb4\xb5\x74\xc5\x03\x5e\xcd\x09\xf0", 104);
*(uint64_t*)0x20001c18 = 0x68;
	syscall(__NR_pwritev, r[0], 0x20001c00ul, 2ul, 0x5d, 3);
	return 0;
}
